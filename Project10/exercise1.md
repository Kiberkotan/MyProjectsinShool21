# Типы баз данных

![Текст с описанием картинки](https://habrastorage.org/r/w1560/getpro/habr/upload_files/d7c/b88/a85/d7cb88a854d32507fae7116ebfa28553.png)

## Простейшие базы данных:
К таким базам данных относятся БД, где хранятся данные с простой структурой: например, список разрешенных IP-адресов для доступа к сети, настройки окружения проекта, список подписчиков на рассылку компании и прочее. Они все еще широко распространены.  

**1. Иерархические:**   
Иерархические базы имеют древовидную схему, где единый ствол порождает множество расходящихся ветвей. В такой структуре данные структурируются согласно отношениям родитель-потомок. Схематично это похоже на папки на рабочем столе компьютера — у каждой записи есть физическая связь только с одной предыдущей, а отношение многих ко многим невозможно.

![Текст с описанием картинки](https://selectel.ru/blog/wp-content/uploads/2022/04/img5-1-1525x858.png)

Так как структура БД иерархична, каждая запись дерева данных должна иметь хотя бы одного родителя. Пользователь получает доступ к данным, следуя структуре, всегда инициируемой из корня древа или первого родителя.;

| Преимущества                                                                                                                                                    | Недостатки                                                                                                                                                                                                                       |
|-----------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Отношения родитель-потомок обеспечивают целостность данных. Каждое изменение, сделанное в родительской таблице, автоматически обновляется и в дочерней таблице. | Жесткая иерархия усложняет работу с данными. Если родительская и дочерняя таблицы не связаны между собой, то добавление новой записи в дочернюю таблицу усложняется, потому что ее необходимо добавить и в родительскую таблицу. |
| Еще одно преимущество иерархических баз данных — высокий уровень безопасности.                                                                                  | Изменение структуры БД приводит к изменению всех прикладных программ, которые с ней работают.                                                                                                                                    |
|                                                                                                                                                                 | Иерархическая БД поддерживает отношения один к многим и не поддерживает отношения многие к многим.                                                                                                                               |

**Примеры:**
- Mark IV MultiAccess Retrieval System;
- InterSystems Caché;
- IMS.

**2. Сетевые:**  
Эта технология развивает иерархический подход за счет моделирования сложных отношений между объектами.В сетевой базе данных каждый узел может иметь несколько родительских или дочерних узлов, что позволяет создавать более гибкие связи между объектами данных. Это делает сетевые базы данных особенно полезными для моделирования сложных отношений между данными, например, в социальных сетях или цепочках поставок.

![Текст с описанием картинки](https://selectel.ru/blog/wp-content/uploads/2022/04/img2-1-1525x858.png)

Вот некоторые особенности сетевых баз данных:

- Узлы: сетевая база данных хранит данные в виде узлов, которые представляют собой сущности или объекты. Узлы могут иметь атрибуты, которые описывают свойства сущности, а также могут иметь связи с другими узлами.
- Отношения: отношения между узлами представлены в виде ребер. Грани могут иметь атрибуты, которые описывают характер связи, например, силу или направление связи.
- Множественные родители/дочери: позволяют узлам иметь несколько родительских и дочерних узлов. Это облегчает представление сложных отношений между объектами данных.
- Гибкость схемы: с точки зрения разработки схемы. Узлы могут быть легко добавлены или удалены, а связи могут быть изменены или обновлены без изменения всей модели данных.
- Запрос: обычно предоставляют эффективные возможности запросов, которые позволяют пользователям перемещаться по сети и извлекать данные из нескольких узлов и отношений.
- Целостность данных: обеспечивают ограничения целостности данных, такие как уникальность или ссылочная целостность, чтобы гарантировать, что данные остаются последовательными и надежными.
- Графическое представление: предоставляют графическое представление модели данных, что облегчает визуализацию связей между узлами и понимание структуры данных.

| Преимущества                                                                                                                                                                        | Недостатки                                                                                                                                                                                                                                                     |
|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Гибкость: моделируют сложные отношения и порядок между объектами данных с несколькими родительскими или дочерними узлами, что делает их более гибкими, чем реляционные базы данных. | Сложность: более сложные в разработке и обслуживании, чем реляционные базы данных, особенно для больших и сложных систем.                                                                                                                                      |
| Эффективность: извлекают данные более эффективно, чем иерархические базы данных, поскольку они могут обращаться к данным из нескольких родительских или дочерних узлов.             | Отсутствие стандартизации: в отличие от реляционных баз данных, для проектирования сетевых баз данных не существует стандартизированных методов или правил. Это может затруднить поддержание согласованности в модели данных и интеграцию с другими системами. |
| Масштабируемость: обрабатывают большие объемы данных и сложные отношения между объектами данных, что делает их масштабируемыми для больших и более сложных систем.                  | Ограниченное внедрение: сегодня используются реже, чем реляционные базы данных, что означает, что разработчикам доступно меньше ресурсов и инструментов.                                                                                                       |
| Производительность: работают быстрее, чем иерархические базы данных, поскольку они могут получать доступ к данным из нескольких путей в сети.                                       | Стоимость: сложность и специализированный характер сетевых баз данных может сделать их более дорогими в реализации и поддержке по сравнению с реляционными базами данных.                                                                                      |

**Примеры:**
- База данных CODASYL (Конференция по языкам систем данных) — одна из самых ранних моделей сетевых баз данных. Она была представлена в 1960-х годах и широко использовалась до появления реляционных баз данных. CODASYL хранят данные в записях, которые могут быть связаны с другими записями через наборы. 
- ArangoDB — это многомодельная база данных, поддерживающая модели сетей, документов и ключей-значений. Она обеспечивает гибкую схему, эффективные возможности запросов и высокую доступность.
- OrientDB — это еще одна многомодельная база данных, поддерживающая сетевые, документальные и графовые модели. Она предоставляет SQL-подобный язык запросов и поддерживает распределенные транзакции и кластеризацию.- 


## Реляционные базы данных
Это самый распространенный тип БД. Реляционная модель распределяет данные по таблицам. В каждом столбце таблицы указывается атрибут объекта, о котором идет речь, например, цена, почтовый индекс или дата рождения. Вместе атрибуты называются доменом. Конкретный атрибут или комбинация атрибутов выбирается в качестве первичного ключа. Когда на ключ ссылаются другие таблицы, то он называется внешним ключом.  

![Текст с описанием картинки](https://selectel.ru/blog/wp-content/uploads/2022/04/img6-1525x1088.png)

В отличие от иерархических, реляционные БД поддерживают не только модель один к многим, но и многие ко многим. Вдобавок любое изменение в нескольких таблицах БД влияет и на остальные таблицы. Благодаря этому, реляционная БД сохраняет целостность данных во всех приложениях и копиях БД.  
Для запросов БД использует язык запросов SQL, что упрощает работу с данными.

| Преимущества                                                                                                                                                                                                                | Недостатки                                                                                                                                                                                                 |
|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| В отличие от других типов БД, реляционная обеспечивает целостность очень больших объемов данных. Это критически важно для операционной деятельности бизнеса, например, банковской сферы с миллионами ежедневных транзакций. | Для обеспечения целостности данных реляционная БД использует длительные и кратковременные блокировки. Это приводит к задержкам и недоступности данных на некоторое время.                                  |
| Реляционная БД предоставляет доступ для нескольких сотрудников одновременно, с возможностью настройки уровней доступа.                                                                                                      | Реляционная база данных требует большого объема физической памяти. Кроме того, сравнительно с другими БД, у нее невысокая производительность. И чем больше объем БД, тем медленнее обрабатываются запросы. |
|                                                                                                                                                                                                                             | Организация, хранение и обработка слабо структурированных или неструктурированных данных из разных источников достаточно трудная задача.                                                                   |

**Примеры:**
- Oracle DB, 
- MySQL, 
- PostgreSQL.

## Нереляционные базы данных:
В отличие от реляционных, NoSQL БД не используют табличную схему строк и столбцов и поэтому способны обрабатывать неструктурированные данные. Вместо таблиц БД применяют несколько моделей, в зависимости от типа обрабатываемых данных.    

**1. На основе пар "ключ‑значение":**   
Это тип нереляционных баз данных, в котором для хранения данных используется простой метод «ключ‑значение». База данных на основе пар «ключ‑значение» хранит данные как совокупность пар «ключ‑значение», в которых ключ служит уникальным идентификатором. Как ключи, так и значения могут представлять собой что угодно: от простых до сложных составных объектов. Базы данных с использованием пар «ключ‑значение» поддерживают высокую разделяемость и обеспечивают беспрецедентное горизонтальное масштабирование, недостижимое при использовании других типов баз данных.   

![Текст с описанием картинки](https://storage.yandexcloud.net/cloud-www-assets/blog-assets/ru/posts/2022/10/nosql/nosql-1.png)

Примеры использования:
- Хранилище сессий: Основанное на сессиях приложение (например, интернет‑приложение) запускает сессию, когда пользователь входит в систему. Оно активно до тех пор, пока пользователь не выйдет из системы или не истечет время сессии. В течение этого периода приложение хранит все связанные с сессией данные либо в основной памяти, либо в базе данных. Данные сессии могут включать информацию профиля пользователя, сообщения, индивидуальные данные и темы, рекомендации, таргетированные рекламные кампании и скидки. Каждая сессия пользователя имеет уникальный идентификатор. Данные сессий всегда запрашиваются только по первичному ключу, поэтому для их хранения отлично подходит быстрое хранилище пар «ключ‑значение». В целом базы данных на основе пар «ключ‑значение» могут снижать накладные расходы в расчете на страницу по сравнению с реляционными базами данных.
- Корзина интернет‑магазина: Во время праздничного сезона покупок сайт интернет‑магазина может получать миллиарды заказов за считаные секунды. Используя базы данных на основе пар «ключ‑значение», можно обеспечить необходимое масштабирование при существенном увеличении объемов данных и чрезвычайно интенсивных изменениях состояния. Такие базы данных позволяют одновременно обслуживать миллионы пользователей благодаря распределенным обработке и хранению данных. Базы данных на основе пар «ключ‑значение» также обладают встроенной избыточностью, что позволяет справляться с потерей узлов хранилища.

| Преимущества                                                                                                          | Недостатки                                                                                                                                                                                                                                                   |
|-----------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| хранилища обеспечивают быстрый и малозатратный доступ;                                                                | затрудняет или полностью отсекает большинство привычных операций со значениями хранилища - если ключами можно ещё оперировать как угодно, то попытка выполнить поиск по значениям может длиться на несколько порядков дольше, чем в реляционной базе данных. |
| часто хранят данные конфигураций и информацию о состоянии данных, представленных словарями или хэшем;                 | фактическая невозможность быстро анализировать имеющуюся в базе данных информацию и собирать статистику.                                                                                                                                                     |
| нет жёсткой схемы отношения между данными, поэтому в таких БД часто хранят одновременно различные типы данных;        |                                                                                                                                                                                                                                                              |
| разработчик отвечает за определение схемы именования ключей и за то, чтобы значение имело соответствующий тип/формат. |                                                                                                                                                                                                                                                              |

**Примеры:**
- Memcached
- Riak
- Redis

**2. Документная:**  
В отличие от баз типа «Ключ-значение» данные здесь хранятся в структурированных форматах – XML, JSON, BSON. Тем не менее, сохраняется адресный доступ к данным по ключу. При этом содержимое документа может иметь различный набор свойств. 

Например, каталог профилей пользователей: один в качестве предпочтений указал любимое блюдо, а другой – видеоигру. Поскольку эти сведения нельзя хранить в одном поле ввиду логической и структурной разобщенности, они записываются в отдельные свойства отдельных документов. При необходимости можно добавить в документы новые свойства, не нарушив при этом общей целостности данных.

![Текст с описанием картинки](https://selectel.ru/blog/wp-content/uploads/2022/04/img1-1-1525x858.png)

Документноориентированная-модель хороша в проектах, где нужно обрабатывать большой объём данных без четкой структуры, а также для работы со множеством уникальных документов, которые со временем требуют изменений. Например, для каталогов товаров, соцсетей, платформ с блогами и видео, геоаналитики и в других сферах.  

| Преимущества                                                                                                                                                                          | Недостатки                                                                                                                                                                                               |
|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Обрабатывает большие данные:                                                                                                                                                          | Безопасность. Базы данных, ориентированные на документы, могут быть уязвимы для атак путем внедрения ванильного JavaScript, что может привести к тому, что ваша база данных передаст свои данные хакеру. |
| Просто: меньше таблиц, меньше отношений, меньше несоответствия объектно-реляционного импеданса.                                                                                       | Запросы: из-за природы неопределенных схем документо-ориентированных баз данных запросы, которые вы можете выполнять, менее эффективны и занимают больше времени, чем запросы к базе данных SQL.         |
| Модели данных: нет предопределенной схемы. Нет необходимости предварительно определять имена полей или типы данных. Это делает его гибким и динамичным, поскольку поля не определены. |                                                                                                                                                                                                          |
| Структура данных: NoSQL обрабатывает неструктурированные данные.                                                                                                                      |                                                                                                                                                                                                          |
| Дешевле в управлении: используйте более дешевое оборудование. Продолжайте добавлять узлы для хранения вещей. Сократите свой сервер до необходимого количества серверов.               |                                                                                                                                                                                                          |

**Примеры:**  
- MongoDB
- RethinkDB

**3. Графовая:**  
Это семейство баз предназначено для моделирования сложных отношений с помощью теории графов, где связями выступают ребра графа, а сами объекты – это узлы или вершины.  
Элементы базы данных хранятся в узлах (вершинах), между узлами существуют ребра, которые определяют отношения элементов друг к другу. У ребра есть начальный и конечный узел, направление и тип (связи действия, права владения, «родитель — ребёнок» и пр.). Главная особенность графовых БД — хранение не только сущностей данных, но и взаимосвязей, тогда как в реляционных БД соединения между элементами требует дополнительных вычислений.  
Благодаря такой модели данных graph store NoSQL используются для выполнения задач, ориентированных на связи: для алгоритмов рекомендаций контента, социальных сетей, обнаружения случаев сетевого мошенничества.  
Для доступа к таким БД необходим язык запросов, но, поскольку общепринятых стандартов у NoSQL нет, для разных типов графовых баз данных понадобится индивидуальный подход.

![Текст с описанием картинки](https://selectel.ru/blog/wp-content/uploads/2022/04/img8-1525x858.png)

| Преимущества                                                                                                                                                                     | Недостатки                |
|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------|
| высокая производительность, поскольку обход ребер и вершин значительно быстрее анализа множества внешних и внутренних таблиц и их соединения по условию отбора в реляционных БД. | Специальный язык запросов |
| нет ограничений в типах представляемых связей.                                                                                                                                   | Трудно масштабировать     |
| явно отображает связи между типами данных;                                                                                                                                       |                           |
| не требуют пошагового обхода для перемещения между элементами;                                                                                                                   |                           |

**Примеры:** 
- Neo4j, 
- OrientDB

**4. Колоночная:**  
Колоночные базы данных (также нереляционные колоночные хранилища или базы данных с широкими столбцами) принадлежат к семейству NoSQL БД, но внешне похож на реляционные БД. Как и реляционные, колоночные БД хранят данные, используя строки и столбцы, но с иной связью между элементами.

В реляционных БД все строки должны соответствовать фиксированной схеме. Схема определяет, какие столбцы будут в таблице, типы данных и другие критерии. В колоночных базах вместо таблиц имеются структуры – «колоночные семейства». Семейства содержат строки, каждая из которых определяет собственный формат. Строка состоит из уникального идентификатора, используемого для поиска, за которым следуют наборы имён и значений столбцов.    
Такая организация данных приводит к тому, что при выполнении select в котором фигурируют только 3 поля из 50 полей таблицы, с диска физически будут прочитаны только 3 колонки. Это означает что нагрузка на канал ввода-вывода будет приблизительно в 50/3=17 раз меньше чем при выполнении такого же запроса в традиционной СУБД.  

![Текст с описанием картинки](https://habrastorage.org/r/w1560/getpro/habr/post_images/462/6ea/2f6/4626ea2f610364ec0fd330cccc7883ed.png)

Кроме того, при поколоночном хранении данных появляется замечательная возможность сильно компрессировать данные, так как в одной колонке таблицы данные как правило однотипные, чего не скажешь о строке.  

| Преимущества                                                                           | Недостатки                                                       |
|----------------------------------------------------------------------------------------|------------------------------------------------------------------|
| Колоночные базы данных позволяют эффективно делать сложные выборки на больших таблицах | Медленно работают на запись                                      |
| Сжатие данных позволяет сэкономить место                                               | Не поддерживают транзакции                                       |
| Изменение структуры больших таблиц происходит мгновенно.                               | Имеют ряд ограничений для разработчика (sql синтаксис не полный) |
|                                                                                        | Обычные выборки по ключу всех столбцов без профита               |
|                                                                                        |                                                                  |
|                                                                                        |                                                                  |
|                                                                                        |                                                                  |

**Примеры:** 
- ClickHouse от Яндекса, 
- Cassandra, 
- Snowflake, 
- Amazon Redshift

**5. Временных рядов:**  
Базы данных временны́х рядов созданы для сбора и управления элементами, меняющимися с течением времени. Большинство таких БД организованы в структуры, которые записывают значения для одного элемента. Например, можно создать таблицу для отслеживания температуры процессора. Внутри каждое значение будет состоять из временной метки и показателя температуры. В таблице может быть несколько метрик.  

![Текст с описанием картинки](https://selectel.ru/blog/wp-content/uploads/2022/04/img3-1525x492.png)
                                                                                                                                                        
| Преимущества                                                   | Недостатки                                                                                                                                              |
|----------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------|
| ориентированы на запись;                                       | производительность зависит от количества отслеживаемых элементов, интервала опроса между записью новых значений и фактической полезной нагрузки данных. |
| предназначены для обработки постоянного потока входных данных; |                                                                                                                                                         |

**Примеры:** 
- OpenTSDB
- Prometheus
- InfluxDB
- TimescaleDB

## NewSQL базы данных  
NewSQL базы данных наследуют реляционную структуру и семантику, но построены с использованием более современных, масштабируемых конструкций. Цель – обеспечить большую масштабируемость, нежели реляционные БД, и более высокие гарантии согласованности, чем в NoSQL. Компромисс между согласованностью и доступностью является фундаментальной проблемой распределённых баз данных, описываемой теоремой CAP.  

| Преимущества                                 | Недостатки                                                                                        |
|----------------------------------------------|---------------------------------------------------------------------------------------------------|
| возможность горизонтального масштабирования; | небольшой функционал и гибкость;                                                                  |
| высокая доступность;                         | немалое потребление ресурсов и необходимость специализированных знаний для работы с базой данных. |
| большая производительность и репликация;     |                                                                                                   |

**Примеры:** 
- MemSQL
- VoltDB
- Spanner


## Многомодельные базы данных
Многомодельные базы данных – базы, объединяющие функциональные возможности нескольких видов БД. Преимущества такого подхода очевидны – одна и та же система может использовать различные представления для разных типов данных.

Совместное размещение данных из нескольких типов БД в одной системе позволяет выполнять новые операции, которые в противном случае были бы затруднены или невозможны. Например, многомодельные базы могут позволить юзерам получить доступ к данным, хранящимся в разных типах БД, и управлять ими в рамках одного запроса, а также поддерживают согласованность данных при выполнении операций, изменяющих информацию сразу в нескольких системах.

| Преимущества                                                                                                           | Недостатки                                                                  |
|------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------|
| помогают уменьшить нагрузку на СУБД;                                                                                   | громоздкость для простейших задач обычной оперативной обработки информации. |
| позволяют расширяться до новых моделей по мере изменения потребностей без внесения изменений в базовую инфраструктуру; |                                                                             |
| обеспечивают непрерывный доступ и простое распределение данных;                                                        |                                                                             |
| имеют линейную масштабируемость и просты для разработки.                                                               |                                                                             |


**Примеры:**
- ArangoDB
- OrientDB
- Couchbase






